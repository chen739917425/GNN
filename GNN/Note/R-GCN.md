### R-GCN

R-GCN在GCN的聚合操作上，增加了一个聚合关系的维度
$$
h_i^{(l+1)}=\sigma(\sum_{r\in R}\sum_{v_j\in N_{v_i}^{(r)}}\frac{1}{c_{i,r}}W_r^{(l)}h_j^{(l)}+W_o^{(l)}h_i^{(l)})
$$

* $R$表示关系（即边的类型）集合，$N_{v_i}^{(r)}$表示与节点$v_i$有$r$关系的邻点集合
* $c_{i,r}$起归一化作用，一般取$|N_{v_i}^{(r)}|$

* $W_r$是具有$r$关系的邻居对应的权重参数，$W_o$是节点自身对应的权重参数

#### 正则化

##### 基分解

对$W_r^{(l)}$进行基分解
$$
W_r^{(l)}=\sum_{b=1}^{B}a_{rb}^{(l)}V_b^{(l)}
$$

* 其中$V_b^{(l)}\in R^{d^{(l+1)}\times d^{(l)}}$为基，$a_{rb}$是在对应基上的分解系数，$B$是超参数
* $V_b$和$a_{rb}$为需要学习的参数
* 对不同的关系$r$，共享$V_b^{(l)}$，因此与关系$r$有关的只有系数$a_{rb}$，需要学习的参数由原来的$|R|\times d^{(l+1)} \times d^{(l)}$变为$B \times d^{(l+1)} \times d^{(l)}+|R|\times B$。一般设$B\ll min(|R|,d^{l+1}\times d^{(l)})$
* 共享参数还可以缓解模型在非常见关系上过拟合

##### 块对角分解

$$
W_r^{(l)}=\oplus_{b=1}^{B}Q_{br}^{(l)}=diag(Q_{1r}^{(l)},\cdots,Q_{Br}^{(l)})
$$

* $W_r^{(l)}$为块对角矩阵
